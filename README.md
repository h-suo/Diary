# ì¼ê¸°ì¥ ğŸ“”

## ğŸ“– ëª©ì°¨

1. [ğŸ“¢ ì†Œê°œ](#1.)
2. [ğŸ‘¤ íŒ€ì›](#2.)
3. [â±ï¸ íƒ€ì„ë¼ì¸](#3.)
4. [ğŸ“Š UML & íŒŒì¼íŠ¸ë¦¬](#4.)
5. [ğŸ“± ì‹¤í–‰ í™”ë©´](#5.)
6. [ğŸ§¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#6.)
7. [ğŸ”— ì°¸ê³  ë§í¬](#7.)

<br>

<a id="1."></a>

## 1. ğŸ“¢ ì†Œê°œ
ì¼ê¸°ë¥¼ ì‘ì„±í•˜ê³  ê°„ì§í•˜ì„¸ìš”!
ì‘ì„±í•˜ì‹  ì¼ê¸°ëŠ” ëª©ë¡ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

> **í•µì‹¬ ê°œë… ë° ê²½í—˜**
> 
> - **DateFormatter**
>   - `locale` í”„ë¡œí¼í‹°ë¥¼ ì´ìš©í•œ ì§€ì—­í™”
> - **UITableViewDiffableDataSource**
>   - `DiffableDataSource`ë¥¼ ì´ìš©í•œ ì• ë‹ˆë©”ì´ì…˜í™”ëœ ë°ì´í„° ë°”ì¸ë”©
> - **UITextView**
>   - `UITextView`ë¥¼ ì´ìš©í•œ í…ìŠ¤íŠ¸ í¸ì§‘ê³¼ ë³´ê¸°
> - **keyboardWillShowNotification**
>   - `keyboardWillShow` ë…¸í‹°ë¥¼ ì´ìš©í•œ í‚¤ë³´ë“œê°€ ë‚˜íƒ€ë‚¬ì„ ë•Œ ë™ì‘ ì„¤ì •
> - **CoreData**
>   - `CoreData`ë¥¼ ì´ìš©í•œ ì¼ê¸° ë°ì´í„°ì˜ ì €ì¥
> - **UISwipeActionsConfiguration**
>   - `SwipeActions`ë¥¼ ì´ìš©í•œ ì…€ì˜ ìŠ¤ì™€ì´í”„ ë™ì‘
> - **UIActivityViewController**
>   - `ActivityViewController`ë¥¼ ì´ìš©í•œ ì¼ê¸° ë‚´ìš© ê³µìœ 

<br>

<a id="2."></a>

## 2. ğŸ‘¤ íŒ€ì›

| [Erick](https://github.com/h-suo) |
| :--------: | 
| <Img src = "https://user-images.githubusercontent.com/109963294/235300758-fe15d3c5-e312-41dd-a9dd-d61e0ab354cf.png" width="350"/>|

<br>

<a id="3."></a>
## 3. â±ï¸ íƒ€ì„ë¼ì¸

> í”„ë¡œì íŠ¸ ê¸°ê°„ :  2023.08.28 ~ 2023.09.15

|ë‚ ì§œ|ë‚´ìš©|
|:---:|---|
| **2023.08.28** |â–«ï¸ `sample` ë°ì´í„°ë¥¼ ë””ì½”ë”©í•  DTO ìƒì„± <br> â–«ï¸ ì¼ê¸° ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” `DiaryListViewController` UI ì„¸íŒ… <br>|
| **2023.08.29** |â–«ï¸ ì¼ê¸°ë¥¼ ë°˜í™˜ ë° ì €ì¥í•˜ëŠ” `DiaryStorageProtocol` ìƒì„± <br> â–«ï¸ ë‚ ì§œë¥¼ í¬ë©§í•˜ëŠ” `DateFormatManager` êµ¬í˜„ <br> â–«ï¸ `TableViewCell` ìƒì„± ë° ë°ì´í„° ë°”ì¸ë”© <br>|
| **2023.08.30** |â–«ï¸ ì¼ê¸°ë¥¼ ë³´ì—¬ì£¼ëŠ” `DiaryViewController` ìƒì„± <br> â–«ï¸ í‚¤ë³´ë“œê°€ ë‚˜íƒ€ë‚¬ì„ ë•Œ`TextView`ë„ ë”°ë¼ ì˜¬ë¼ê°€ëŠ” ë¡œì§ êµ¬í˜„ <br>|
| **2023.08.31** |â–«ï¸ ë°ì´í„° ë°”ì¸ë”©ì— ì‹¤íŒ¨í–ˆì„ ë•Œ `Alert`ì´ ëœ¨ë„ë¡ êµ¬í˜„ <br> â–«ï¸ README ì‘ì„± <br>|
| **2023.09.01** |â–«ï¸ ì½”ë“œ ê°œì„ ì„ ìœ„í•œ ë¦¬í™í† ë§ <br>|
| **2023.09.04** |â–«ï¸ `CoreData`ì˜ `Entity` ì¶”ê°€ ë° `subclass` ìƒì„± <br> â–«ï¸ `Diary`ë¥¼ `CoreData`ë¥¼ ì´ìš©í•´ ì €ì¥í•˜ëŠ” `CoreDataDiaryStorage` ìƒì„± <br>|
| **2023.09.08** |â–«ï¸ `CoreDataDiaryStorage`ì˜ `CRUD` ë©”ì„œë“œ êµ¬í˜„ <br>|
| **2023.09.09** |â–«ï¸ `SwipeActions`ì„ ì´ìš©í•œ ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„ <br>|
| **2023.09.10** |â–«ï¸ `ActivityViewController`ë¥¼ ì´ìš©í•œ ê³µìœ  ê¸°ëŠ¥ êµ¬í˜„ <br> â–«ï¸ ë°±ê·¸ë¼ìš´ë“œ ì „í™˜ì‹œ ì €ì¥ ê¸°ëŠ¥ êµ¬í˜„ <br>|
| **2023.09.12** |â–«ï¸ ì½”ë“œ ê°œì„ ì„ ìœ„í•œ ë¦¬í™í† ë§ <br>|
| **2023.09.14** |â–«ï¸ ì½”ë“œ ê°œì„ ì„ ìœ„í•œ ë¦¬í™í† ë§ <br>|
| **2023.09.15** |â–«ï¸ README ì‘ì„± <br>|

<br>

<a id="4."></a>
## 4. ğŸ“Š UML & íŒŒì¼íŠ¸ë¦¬

### UML

<Img src = "https://github.com/h-suo/ios-diary/assets/109963294/eaa81f9b-b0e7-4b6c-8c74-0f30c6dc2fdb" width="600"/>

<br>

### íŒŒì¼íŠ¸ë¦¬
```
Diary
â”œâ”€â”€ Application
â”‚Â Â  â”œâ”€â”€ AppDelegate.swift
â”‚Â Â  â””â”€â”€ SceneDelegate.swift
â”œâ”€â”€ Protocol
â”‚Â Â  â”œâ”€â”€ AppResignObservable.swift
â”‚Â Â  â”œâ”€â”€ DiaryManageable.swift
â”‚Â Â  â”œâ”€â”€ DiaryReadable.swift
â”‚Â Â  â””â”€â”€ LocaleDateFormatterProtocol.swift
â”œâ”€â”€ Model
â”‚Â Â  â”œâ”€â”€ ActivityViewManager.swift
â”‚Â Â  â”œâ”€â”€ AlertManager.swift
â”‚Â Â  â”œâ”€â”€ DateFormatManager.swift
â”‚Â Â  â”œâ”€â”€ DiaryEntry.swift
â”‚Â Â  â”œâ”€â”€ DTO
â”‚Â Â  â”‚Â Â  â””â”€â”€ Diary.swift
â”‚Â Â  â”œâ”€â”€ LocaleDateFormatter
â”‚Â Â  â”‚Â Â  â””â”€â”€ UserDateFormatter.swift
â”‚Â Â  â””â”€â”€ Reader
â”‚Â Â      â”œâ”€â”€ AssetDiaryReader.swift
â”‚Â Â      â””â”€â”€ CoreDataDiaryManager.swift
â”œâ”€â”€ Controller
â”‚Â Â  â”œâ”€â”€ DiaryListViewController.swift
â”‚Â Â  â””â”€â”€ DiaryViewController.swift
â”œâ”€â”€ View
â”‚   â””â”€â”€ DiaryTableViewCell.swift
â”œâ”€â”€ Error
â”‚Â Â  â”œâ”€â”€ ConversionError.swift
â”‚Â Â  â””â”€â”€ StorageError.swift
â”œâ”€â”€ Data
â”‚Â Â  â””â”€â”€ DiaryData.xcdatamodeld
â”‚Â Â      â””â”€â”€ Diary.xcdatamodel
â”‚Â Â          â””â”€â”€ contents
â”œâ”€â”€ Resource
â”‚Â Â  â”œâ”€â”€ Assets.xcassets
â”‚Â Â  â”œâ”€â”€ Base.lproj
â”‚Â Â  â”‚Â Â  â””â”€â”€ LaunchScreen.storyboard
â”‚Â Â  â””â”€â”€ Info.plist
â””â”€â”€ Util
 Â Â  â””â”€â”€ Extension
 Â Â      â”œâ”€â”€ Notification.name+.swift
 Â Â      â”œâ”€â”€ UIAlertController+.swift
 Â Â      â””â”€â”€ UITextView+.swift
```

<br>

<a id="5."></a>
## 5. ğŸ“± ì‹¤í–‰ í™”ë©´
| ëª©ë¡í™”ë©´ì—ì„œ ì¼ê¸° í™”ë©´ìœ¼ë¡œ ë„˜ì–´ê°€ê¸° | í‚¤ë³´ë“œê°€ ì˜¬ë¼ì™”ì„ ë•Œ |
| :--------------: | :-------: |
| <Img src = "https://github.com/h-suo/ios-diary/assets/109963294/42b8c4fc-adf5-4896-94a6-7b4eb6cf715f" width="300"/> | <Img src = "https://github.com/h-suo/ios-diary/assets/109963294/f4b7daf6-6d54-48b2-a752-c7e8754ba724" width="300"/>|
| **ì¼ê¸° ìƒì„±** | **ì¼ê¸° ìˆ˜ì •í•˜ê¸°** |
| <Img src = "https://github.com/h-suo/ios-diary/assets/109963294/59dea197-a7ad-4e51-9887-262e4882382e" width="300"/> | <Img src = "https://github.com/h-suo/ios-diary/assets/109963294/1e07b17f-6960-444c-af68-ffb439064675" width="300"/> |
| **ìŠ¤ì™€ì´í”„ë¥¼ ì´ìš©í•œ ê³µìœ ** | **ìŠ¤ì™€ì´í”„ë¥¼ ì´ìš©í•œ ì‚­ì œ** |
| <Img src = "https://github.com/h-suo/ios-diary/assets/109963294/4f6c1c3b-4078-4d19-8046-6676cfbafe4d" width="300"/> | <Img src = "https://github.com/h-suo/ios-diary/assets/109963294/e515170d-c69a-4b12-9532-f445fa61cc08" width="300"/> |
| **ë”ë³´ê¸° ë²„íŠ¼ ì´ìš©í•œ ê³µìœ ** | **ë”ë³´ê¸° ë²„íŠ¼ ì´ìš©í•œ ì‚­ì œ** |
| <Img src = "https://github.com/h-suo/ios-diary/assets/109963294/c4437835-9cb8-43df-84b4-1baa3a27a80c" width="300"/> | <Img src = "https://github.com/h-suo/ios-diary/assets/109963294/7850c98d-6286-4142-b2ae-bbfb1c3aa2db" width="300"/> |

<br>

<a id="6."></a>
## 6. ğŸ§¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

### 1ï¸âƒ£ í”„ë¡œí† ì½œì˜ í™œìš©

#### ğŸ”¥ ë¬¸ì œì 
ì¼ê¸° ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” `DiaryListViewController`ê°€ ì¼ê¸°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ê°ì²´ë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í–ˆìŠµë‹ˆë‹¤.
ì´ˆê¸°ì—ëŠ” ì‹¤ì œ ê°ì²´ë¥¼ ê°€ì§€ê³  ìˆë„ë¡ í–ˆì§€ë§Œ ì¶”í›„ ì¼ê¸°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê°ì²´ê°€ ë³€ê²½ë  ë•Œ `Controller`ì˜ ì½”ë“œê°€ ëª¨ë‘ ìˆ˜ì •ë˜ì–´ì•¼ í•œë‹¤ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

#### ğŸ§¯ í•´ê²°ë°©ë²•
í”„ë¡œí† ì½œì„ í™œìš©í•˜ë©´ ì´ë¥¼ í•´ê²°í•  ìˆ˜ ìˆì„ ê±°ë¼ ìƒê°í•˜ì—¬ ì¼ê¸°ë¥¼ ë°˜í™˜í•˜ê³  ì €ì¥í•˜ëŠ” `DiaryStorageProtocol`ì„ ë§Œë“¤ì–´ `DiaryListViewController`ê°€ í•´ë‹¹ íƒ€ì…ì„ ê°€ì§€ê³  ìˆë„ë¡ í•˜ì—¬ ì¶”í›„ ì¼ê¸°ë¥¼ ì „ë‹¬í•˜ëŠ” ê°ì²´ê°€ ë³€ê²½ë˜ë”ë¼ë„ `Controller`ì˜ ì½”ë“œê°€ ìˆ˜ì •ë˜ì§€ ì•Šë„ë¡ í–ˆìŠµë‹ˆë‹¤.

```swift
protocol DiaryStorageProtocol {
    func diaryEntrys() throws -> [DiaryEntry]
    func storeDiary(_ diary: DiaryEntry)
}
```

<br>

### 2ï¸âƒ£ Date ì§€ì—­í™”

#### ğŸ”¥ ë¬¸ì œì 
ë‚ ì§œë¥¼ í‘œì‹œí• ë•Œ ì§€ì—­í™”ë¥¼ í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤ë©´ ì‚¬ìš©ìê°€ ì–¸ì–´ì™€ ì§€ì—­ì„ ë°”ê¾¸ë”ë¼ë„ í•´ë‹¹ ì„¤ì •ì— ë§ê²Œ í…ìŠ¤íŠ¸ê°€ ë³€í•˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

#### ğŸ§¯ í•´ê²°ë°©ë²•
`DateFormatter`ì˜ `locale` í”„ë¡œí¼í‹°ì™€ `timeZone` í”„ë¡œí¼í‹°ë¥¼ `current`ë¡œ ì„¤ì •í•˜ì—¬ ì–¸ì–´ì™€ ì§€ì—­ì´ ë°”ë€Œë”ë¼ë„ ë‚ ì§œ í¬ë©§ì´ ìë™ìœ¼ë¡œ ë°”ë€” ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

```swift
let userLocale = Locale.current
let userTimeZone = TimeZone.current

let dateFormatter = DateFormatter()
dateFormatter.locale = Locale(identifier: userLocale.identifier)
dateFormatter.setLocalizedDateFormatFromTemplate("dd MMM yyyy")
dateFormatter.timeZone = TimeZone(identifier: userTimeZone.identifier)
```

<br>

### 3ï¸âƒ£ keyboardWillShow

#### ğŸ”¥ ë¬¸ì œì 
í‚¤ë³´ë“œê°€ ì˜¬ë¼ì™”ì„ ë•Œ `TextView`ê°€ ê°€ë ¤ì§€ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

<Img src = "https://github.com/h-suo/ios-diary/assets/109963294/33be182b-dfff-45c2-8607-a9167e100c87" width="300"/>

> ì»¤ì„œê°€ í‚¤ë³´ë“œ ì•„ë˜ ìˆëŠ” ìƒíƒœ

#### ğŸ§¯ í•´ê²°ë°©ë²•
`keyboardWillShowNotification`ì„ ì´ìš©í•´ì„œ í‚¤ë³´ë“œê°€ ë³´ì¼ ë•Œ í‚¤ë³´ë“œì˜ ë†’ì´ ë§Œí¼ `TextView`ì˜ `Inset` `bottom`ì„ ë„ì–´ `TextView`ê°€ ê°€ë ¤ì§€ì§€ ì•Šë„ë¡ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.

```swift
func addObserveKeyboardNotification() {
    NotificationCenter.default.addObserver(self, selector: #selector(keyboardWillShow(_:)), name: UIResponder.keyboardWillShowNotification, object: nil)
}

@objc private func keyboardWillShow(_ notification: Notification) {
    if let keyboardFrame = notification.userInfo?[UIResponder.keyboardFrameEndUserInfoKey] as? CGRect {
        let keyboardHeight = keyboardFrame.height

        self.contentInset = UIEdgeInsets(top: .zero, left: .zero, bottom: keyboardHeight, right: .zero)
    }
}
```
- `keyboardWillShowNotification`ë¥¼ ê´€ì°°í•˜ì—¬ ì‹ í˜¸ê°€ ë°œìƒí–ˆì„ ë•Œ `keyboardWillShow(_:)`ë¥¼ ì‹¤í–‰
- `keyboardFrameEndUserInfoKey`ë¡œ ë…¸í‹°ì˜ `userInfo`ì—ì„œ `frame`ì„ ê°€ì ¸ì™€ ê·¸ ë†’ì´ë¡œ `Inset`ì„¤ì •

<br>

### 4ï¸âƒ£ Alert & Activity ì¬ì‚¬ìš©

#### ğŸ”¥ ë¬¸ì œì 
`AlertController`ì™€ `ActivityViewController`ì˜ ì½”ë“œë¥¼ ëª¨ë‘ `ViewController`ì— ì‘ì„±í•˜ë‹ˆ `ViewController`ê°€ ë„ˆë¬´ ë¹„ëŒ€í•´ì§€ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
ë˜í•œ ë‹¤ë¥¸ `ViewController`ì—ì„œ ê°™ì€ `AlertController`ë¥¼ ìƒì„± ì‹œ ì¤‘ë³µë˜ëŠ” ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ì§€ ëª» í•œë‹¤ëŠ” ë‹¨ì ë„ ìˆì—ˆìŠµë‹ˆë‹¤.

#### ğŸ§¯ í•´ê²°ë°©ë²•
`AlertController`ì™€ `ActivityViewController`ì˜ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ `Manager`ë¥¼ ë§Œë“¤ì–´ `ViewController`ì—ì„œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ `AlertController`ì™€ `ActivityViewController`ë¥¼ `present`í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

**AlertManager**
```swift
enum AlertManager {
    
    static func presentFailAlert(to controller: UIViewController, with message: String) {
        let alertAction = UIAlertAction(title: "í™•ì¸", style: .cancel)
        let alert = UIAlertController.customAlert(alertTile: "ì‹¤íŒ¨", alertMessage: message, preferredStyle: .alert, alertActions: [alertAction])
        
        controller.present(alert, animated: true)
    }
    
    static func presentDeleteAlert(to controller: UIViewController, with action: ((UIAlertAction) -> Void)?) {
        let alertAction = UIAlertAction(title: "ì‚­ì œ", style: .destructive, handler: action)
        let cancelAction = UIAlertAction(title: "ì·¨ì†Œ", style: .cancel)
        let alert = UIAlertController.customAlert(alertTile: "ì§„ì§œìš”?", alertMessage: "ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ì–´ìš”?", preferredStyle: .alert, alertActions: [alertAction, cancelAction])
        
        controller.present(alert, animated: true)
    }
}
```

**ActivityViewManager**
```swift
enum ActivityViewManager {
    
    static func presentActivityView(to controller: UIViewController, with diary: DiaryEntry) {
        let diaryText = String(format: "%@\n%@", diary.title, diary.body)
        let activity = UIActivityViewController(activityItems: [diaryText], applicationActivities: nil)
        activity.popoverPresentationController?.sourceView = controller.view
        
        controller.present(activity, animated: true)
    }
}
```

<br>

### 5ï¸âƒ£ Notification

#### ğŸ”¥ ë¬¸ì œì 
`saveContext()`ì—ì„œ `context.save()`ê°€ ì„±ê³µí–ˆì„ ë•ŒëŠ” `coreDataUpdateSuccessNotification` ë…¸í‹°ë¥¼ ê²Œì‹œí•˜ê³  ì‹¤íŒ¨í–ˆì„ ë•Œ `coreDataUpdateFailNotification` ë…¸í‹°ë¥¼ ê²Œì‹œí•˜ì—¬ `ViewController`ì—ì„œ ì´ë¥¼ ê´€ì°°í•˜ì—¬ ì‹¤íŒ¨ `alert`ì„ ë„ìš°ê±°ë‚˜ í™”ë©´ì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ `notification`ì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œì˜ íë¦„ì´ ëŠê¸°ê²Œ ë˜ëŠ” ë‹¨ì ì´ ìˆì—ˆìŠµë‹ˆë‹¤.

#### ğŸ§¯ í•´ê²°ë°©ë²•
`DiaryManageable` íƒ€ì…ì—ì„œ ì¼ê¸°ë¥¼ ì €ì¥ ë° ì‚­ì œ ì‘ì—… ì¤‘ ì‹¤íŒ¨ í–ˆì„ ê²½ìš° ì—ëŸ¬ë¥¼ `throw` í•˜ë„ë¡ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
ê·¸ë¦¬ê³  `ViewController`ì—ì„œ `do-catch`ë¬¸ìœ¼ë¡œ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•˜ì—¬ ì½”ë“œì˜ íë¦„ì´ ì´ì–´ì§ˆ ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

**DiaryManageable**
```swift
protocol DiaryManageable {
    func storeDiary(_ diary: DiaryEntry) throws
    func deleteDiary(_ diary: DiaryEntry) throws
}
```

**DiaryViewController**
```swift
extension DiaryViewController: UITextViewDelegate {
    // ...
    
    func textViewDidEndEditing(_ textView: UITextView) {
        // ...
        
        do {
            if var diaryEntry {
                // ...
                try diaryManager.storeDiary(diaryEntry)
            } else {
                // ...
                try diaryManager.storeDiary(diaryEntry)
             }
        } catch {
            self.presentFailAlert()
        }
    }
}
```
- `storeDiary`ë¡œ ì¼ê¸° ì €ì¥ ì‘ì—… ì‹¤í–‰
- ì €ì¥ ì‹¤íŒ¨ ì‹œ `presentFailAlert` í˜¸ì¶œ

<br>

### 6ï¸âƒ£ í”„ë¡œí† ì½œ ë¶„ë¦¬

#### ğŸ”¥ ë¬¸ì œì 
`DiaryStorageProtocol`ì´ `Diary`ì˜ `CRUD` ì½”ë“œë¥¼ ê°€ì§€ê³  ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ `AssetDiaryStorage`ì˜ ê²½ìš° `Read` ì½”ë“œë§Œ ì¡´ì¬í•˜ì—¬ ë‚˜ë¨¸ì§€ `CUD` ì½”ë“œë¥¼ êµ¬í˜„í•´ì£¼ì§€ ëª» í•œë‹¤ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

**DiaryStorageProtocol**
```swift
protocol DiaryStorageProtocol {
    func diaryEntrys() throws -> [DiaryEntry]
    func storeDiary(title: String, body: String?) throws
    func updateDiary(_ diary: DiaryEntry) throws
    func deleteDiary(_ diary: DiaryEntry) throws
}
```

**AssetDiaryStorage**
```swift
final class AssetDiaryStorage: DiaryStorageProtocol {
    
    func diaryEntrys() throws -> [DiaryEntry] {
        // ...
    }
    
    func storeDiary(title: String, body: String?) {
        
    }
    
    func updateDiary(_ diary: DiaryEntry) {
        
    }
    
    func deleteDiary(_ diary: DiaryEntry) {
        
    }
}
```

#### ğŸ§¯ í•´ê²°ë°©ë²•
`DiaryStorageProtocol`ì„ `DiaryReadable`ê³¼ `DiaryManageable`ë¡œ ë¶„ë¦¬í•˜ì—¬ `AssetDiaryReader`ì€ `DiaryReadable`ë§Œ ì±„íƒí•˜ë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

**DiaryReadable**
```swift
protocol DiaryReadable {
    func diaryEntrys() throws -> [DiaryEntry]
}

```

**DiaryManageable**
```swift
protocol DiaryManageable {
    func storeDiary(_ diary: DiaryEntry) throws
    func deleteDiary(_ diary: DiaryEntry) throws
}
```

**AssetDiaryReader**
```swift
final class AssetDiaryReader: DiaryReadable {
    
    func diaryEntrys() throws -> [DiaryEntry] {
        guard let asset = NSDataAsset(name: "sample"),
              let diarys = try? JSONDecoder().decode([Diary].self, from: asset.data) else {
            throw StorageError.loadDataFailed
        }
        
        let diaryEntrys = diarys.map {
            $0.diaryEntry()
        }
        
        return diaryEntrys
    }
}
```

<br>

### 7ï¸âƒ£ NSPredicate

#### ğŸ”¥ ë¬¸ì œì 
`SQLite Type`ì˜ `persistentContainer`ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë™ì‘í•˜ë˜ `predicate`ê°€ `CoreDataDiaryManagerTests`ì—ì„œ `InMemory Type`ì˜ `persistentContainer`ë¥¼ ì£¼ì… ë°›ì•„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰ ì‹œ `fetchRequest`ì— `NSPredicate`ë¥¼ ì£¼ì… ì‹œì¼œë„ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

```swift
fetchRequest.predicate = NSPredicate(format: NameSpace.idEqualFormat, diary.id.uuidString)
```

#### ğŸ§¯ í•´ê²°ë°©ë²•
`NSPredicate`ì— `String` íƒ€ì…ì¸ `uuidString`ì„ ë„£ëŠ” ê²ƒì´ ì•„ë‹Œ `CVarArg`ë¡œ íƒ€ì… ë³€í™˜í•œ `UUID`ë¥¼ ë„£ì–´ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

```swift
fetchRequest.predicate = NSPredicate(format: NameSpace.idEqualFormat, diary.id  as CVarArg)
```

<br>

<a id="7."></a>
## 7. ğŸ”— ì°¸ê³  ë§í¬
- [ğŸApple: locale](https://developer.apple.com/documentation/foundation/dateformatter/1411973-locale)
- [ğŸApple: setLocalizedDateFormatFromTemplate](https://developer.apple.com/documentation/foundation/dateformatter/1417087-setlocalizeddateformatfromtempla)
- [ğŸApple: timezone](https://developer.apple.com/documentation/foundation/dateformatter/1411406-timezone)
- [ğŸApple: keyboardWillShowNotification](https://developer.apple.com/documentation/uikit/uiresponder/1621576-keyboardwillshownotification)
- [ğŸApple: keyboardFrameEndUserInfoKey](https://developer.apple.com/documentation/uikit/uiresponder/1621578-keyboardframeenduserinfokey)
- [ğŸApple: UIActivityViewController](https://developer.apple.com/documentation/uikit/uiactivityviewcontroller)
- [ğŸApple: NSManagedObject](https://developer.apple.com/documentation/coredata/nsmanagedobject)
- [ğŸApple: NSManagedObjectContext](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext)
