# ì¼ê¸°ì¥ ğŸ“”

## ğŸ“– ëª©ì°¨

0. [ğŸ› ï¸ í”„ë¡œì íŠ¸ ì„¤ì •](#0.)
1. [ğŸ“¢ ì†Œê°œ](#1.)
2. [ğŸ‘¤ íŒ€ì›](#2.)
3. [â±ï¸ íƒ€ì„ë¼ì¸](#3.)
4. [ğŸ“Š UML & íŒŒì¼íŠ¸ë¦¬](#4.)
5. [ğŸ“± ì‹¤í–‰ í™”ë©´](#5.)
6. [ğŸ¤” ê³ ë¯¼í•œ ë¶€ë¶„](#6.)
7. [ğŸ”— ì°¸ê³  ë§í¬](#7.)

<br>

<a id="0."></a>

## 0. ğŸ› ï¸ í”„ë¡œì íŠ¸ ì„¤ì •

<details>
<summary>í”„ë¡œì íŠ¸ ì„¤ì • ë°©ë²• ë³´ê¸°</summary>
 
| ğŸ”‘ API KEY | í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ì „ API í‚¤ë¥¼ ì„¸íŒ…í•´ì•¼ í•©ë‹ˆë‹¤. |
|:---:|---|
| <Img src = "https://github.com/h-suo/Diary/assets/109963294/d060db3c-c6a1-4b6c-977b-92cefbd5e589" width="350"/> | í”„ë¡œì íŠ¸ ë‚´ `Resource` ê·¸ë£¹ ë‚´ì— `API_KEY.xcconfig` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. |
| <Img src = "https://github.com/h-suo/Diary/assets/109963294/3e8da6da-7afd-4ce4-bda9-45ec3e6e5760" width="500"/> | ìƒì„±í•œ íŒŒì¼ ë‚´ì— `OPENWEATHER_API_KEY = KEY`ë¥¼ ì…ë ¥ í›„ `KEY` ë¶€ë¶„ì— [OpenWeather](https://openweathermap.org/current)ì˜ API í‚¤ë¥¼ ë„£ìœ¼ë©´ ë„¤íŠ¸ì›Œí‚¹ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. |

</details>

<br>

<a id="1."></a>

## 1. ğŸ“¢ ì†Œê°œ
ì¼ê¸°ë¥¼ ì‘ì„±í•˜ê³  ê°„ì§í•˜ì„¸ìš”!
ì‘ì„±í•˜ì‹  ì¼ê¸°ëŠ” ëª©ë¡ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

> **í•µì‹¬ ê°œë… ë° ê²½í—˜**
> 
> - **MVC**
>   - í”„ë¡œì íŠ¸ì˜ ê°€ë…ì„±ì„ ë†’ì´ê¸° ìœ„í•´ `MVC` íŒ¨í„´ì„ ì´ìš©í•œ í”„ë¡œì íŠ¸ íŒŒì¼ ë¶„ë¦¬
> - **Networking**
>   - ì¼ê¸°ë¥¼ ì“°ëŠ” ë‚ ì— ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ `URLSession`ì„ ì´ìš©í•œ ë„¤íŠ¸ì›Œí‚¹
> - **CoreData**
>   - ì¼ê¸°ì˜ ë°ì´í„°ë¥¼ ë¡œì»¬ì— ì €ì¥í•˜ê¸° ìœ„í•´ `CoreData`ë¥¼ ì´ìš©í•œ ì €ì¥ ê¸°ëŠ¥ êµ¬í˜„
> - **Localizing**
>   - ì—¬ëŸ¬ êµ­ê°€ì˜ ì‚¬ìš©ì ì ‘ê·¼ì„±ì„ ë†’ì´ê¸° ìœ„í•´ ë‹¤êµ­ì–´ ì²˜ë¦¬ ë° ë‚ ì§œ í¬ë§· ì‚¬ìš©ìí™”
> - **UnitTest**
>   - `Model` ê°ì²´ê°€ ì˜ë„ì— ë§ê²Œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ `Unit Test` êµ¬í˜„
>   <br>
> - **UITableViewDiffableDataSource**
>   - ì• ë‹ˆë©”ì´ì…˜í™”ëœ ë°ì´í„° ë³€ê²½ê³¼ ë°ì´í„° ë³€ê²½ì— ë”°ë¥¸ UI ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ `DiffableDataSource` ì‚¬ìš©
> - **keyboardWillShowNotification**
>   - í‚¤ë³´ë“œê°€ ë‚˜íƒ€ë‚¬ì„ ë•Œ ë™ì‘ ì„¤ì •ì„ ìœ„í•´ `keyboardWillShowNotification` ì‚¬ìš©
> - **UISwipeActionsConfiguration**
>   - ì…€ì˜ ìŠ¤ì™€ì´í”„ ë™ì‘ ì„¤ì •ì„ ìœ„í•´ `SwipeActions` ì‚¬ìš©
> - **UIActivityViewController**
>   - ì¼ê¸° ë‚´ìš© ê³µìœ ë¥¼ ìœ„í•´ `ActivityViewController` ì‚¬ìš©

<br>

<a id="2."></a>

## 2. ğŸ‘¤ íŒ€ì›

| [Erick](https://github.com/h-suo) |
| :--------: | 
| <Img src = "https://user-images.githubusercontent.com/109963294/235300758-fe15d3c5-e312-41dd-a9dd-d61e0ab354cf.png" width="350"/>|

<br>

<a id="3."></a>
## 3. â±ï¸ íƒ€ì„ë¼ì¸

> í”„ë¡œì íŠ¸ ê¸°ê°„ : 2023.08.28 ~ 2023.09.15

|ë‚ ì§œ|ë‚´ìš©|
|:---:|---|
| **2023.08.28** |â–«ï¸ `sample` ë°ì´í„°ë¥¼ ë””ì½”ë”© í•  DTO ìƒì„± <br> â–«ï¸ ì¼ê¸° ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” `DiaryListViewController` UI ì„¸íŒ… <br>|
| **2023.08.29** |â–«ï¸ ì¼ê¸°ë¥¼ ë°˜í™˜ ë° ì €ì¥í•˜ëŠ” `DiaryStorageProtocol` ìƒì„± <br> â–«ï¸ ë‚ ì§œë¥¼ í¬ë§·í•˜ëŠ” `DateFormatManager` êµ¬í˜„ <br> â–«ï¸ `TableViewCell` ìƒì„± <br>|
| **2023.08.30** |â–«ï¸ ì¼ê¸°ë¥¼ ë³´ì—¬ì£¼ëŠ” `DiaryViewController` ìƒì„± <br> â–«ï¸ í‚¤ë³´ë“œê°€ ë‚˜íƒ€ë‚¬ì„ ë•Œ`TextView`ë„ ë”°ë¼ ì˜¬ë¼ê°€ëŠ” ë¡œì§ êµ¬í˜„ <br>|
| **2023.08.31** |â–«ï¸ ë°ì´í„° ë¡œë”©ì— ì‹¤íŒ¨í–ˆì„ ë•Œ `Alert`ì´ ëœ¨ë„ë¡ êµ¬í˜„ <br>|
| **2023.09.04** |â–«ï¸ `CoreData`ì˜ `Entity` ì¶”ê°€ ë° `subclass` ìƒì„± <br> â–«ï¸ `Diary`ë¥¼ `CoreData`ë¥¼ ì´ìš©í•´ ì €ì¥í•˜ëŠ” `CoreDataDiaryStorage` ìƒì„± <br>|
| **2023.09.08** |â–«ï¸ `CoreDataDiaryStorage`ì˜ `CRUD` ë©”ì„œë“œ êµ¬í˜„ <br>|
| **2023.09.09** |â–«ï¸ `SwipeActions`ì„ ì´ìš©í•œ ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„ <br>|
| **2023.09.10** |â–«ï¸ `ActivityViewController`ë¥¼ ì´ìš©í•œ ê³µìœ  ê¸°ëŠ¥ êµ¬í˜„ <br> â–«ï¸ ë°±ê·¸ë¼ìš´ë“œ ì „í™˜ ì‹œ ì €ì¥ ê¸°ëŠ¥ êµ¬í˜„ <br>|

<br>

> ë¦¬í™í† ë§ ê¸°ê°„ : 2023.11.06 ~ 2023.11.18

|ë‚ ì§œ|ë‚´ìš©|
|:---:|---|
| **2023.11.06** |â–«ï¸ ê·¸ë£¹ ë¶„ë¦¬ ë° `Network Layer` ì¶”ê°€ <br> â–«ï¸ `EndPoint` ë° `NetworkManager` ìƒì„± <br>|
| **2023.11.07** |â–«ï¸ `WeatherResponse` DTO ìƒì„± <br>|
| **2023.11.09** |â–«ï¸ `CoreData` ë§ˆì´ê·¸ë ˆì´ì…˜ <br>|
| **2023.11.10** |â–«ï¸ ë„¤íŠ¸ì›Œí‚¹ì„ í†µí•´ ë‚ ì”¨ ì•„ì´ì½˜ì„ ë°›ì•„ì˜¤ëŠ” ê¸°ëŠ¥ êµ¬í˜„ <br>|
| **2023.11.16** |â–«ï¸ `EndPoint` í…ŒìŠ¤íŠ¸ ì¶”ê°€ <br>|
| **2023.11.16** |â–«ï¸ ë„¤íŠ¸ì›Œí‚¹ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ `test Double`ìƒì„± <br> â–«ï¸ `NetworkManager` í…ŒìŠ¤íŠ¸ ì¶”ê°€ <br>|

<br>

<a id="4."></a>
## 4. ğŸ“Š UML & íŒŒì¼íŠ¸ë¦¬

### UML

<Img src = "https://github.com/h-suo/Diary/assets/109963294/82dfa404-25b6-4274-9b04-9912db088ea2" width="800"/>

<br>

### íŒŒì¼íŠ¸ë¦¬
```
Diary
â”œâ”€â”€ Application
â”‚Â Â  â”œâ”€â”€ AppDelegate.swift
â”‚Â Â  â””â”€â”€ SceneDelegate.swift
â”œâ”€â”€ Network
â”‚Â Â  â”œâ”€â”€ Protocol
â”‚Â Â  â”‚   â”œâ”€â”€ NetworkConfigurable.swift
â”‚Â Â  â”‚   â”œâ”€â”€ NetworkManageable.swift
â”‚Â Â  â”‚   â””â”€â”€ URLSessionProtocol.swift
â”‚Â Â  â”œâ”€â”€ DTO
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Diary.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ WeatherResponse.swift
â”‚Â Â  â”œâ”€â”€ EndPoint
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ CurrentWeatherEndPoint.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ WeatherIconEndPoint.swift
â”‚Â Â  â””â”€â”€ NetworkManager.swift
â”œâ”€â”€ Model
â”‚Â Â  â”œâ”€â”€ Protocol
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DiaryManageable.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DiaryReadable.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ LocaleDateFormatterProtocol.swift
â”‚Â Â  â”œâ”€â”€ Entity
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DiaryEntity+CoreDataClass.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DiaryEntity+CoreDataProperties.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ DiaryEntry.swift
â”‚Â Â  â”œâ”€â”€ Reader
â”‚Â Â  â”‚   â”œâ”€â”€ AssetDiaryReader.swift
â”‚Â Â  â”‚   â””â”€â”€ CoreDataDiaryManager.swift
â”‚Â Â  â””â”€â”€ LocaleDateFormatter
â”‚Â Â   Â Â  â””â”€â”€ UserDateFormatter.swift
â”œâ”€â”€ Controller
â”‚Â Â  â””â”€â”€ Protocol
â”‚Â Â  â”‚   â”œâ”€â”€ AppResignObservable.swift
â”‚Â Â  â”‚   â””â”€â”€ DiaryEditViewControllerDelegate.swift
â”‚Â Â  â”œâ”€â”€ DiaryEditViewController.swift
â”‚Â Â  â””â”€â”€ DiaryListViewController.swift
â”œâ”€â”€ View
â”‚   â””â”€â”€ DiaryTableViewCell.swift
â”œâ”€â”€ Error
â”‚Â Â  â”œâ”€â”€ ConversionError.swift
â”‚Â Â  â”œâ”€â”€ NetworkError.swift
â”‚Â Â  â””â”€â”€ StorageError.swift
â”œâ”€â”€ Util
â”‚Â Â  â”œâ”€â”€ Extension
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Notification.name+.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ UITextView+.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ URLSession+.swift
â”‚Â Â  â”œâ”€â”€ Manager
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ActivityViewManager.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AlertManager.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ DateFormatManager.swift
â”‚Â Â  â””â”€â”€ NameSpace.swift
â”œâ”€â”€ Data
â”‚Â Â  â”œâ”€â”€ DiaryData.xcdatamodeld
â””â”€â”€ Resource
 Â Â  â”œâ”€â”€ API_KEY.xcconfig
 Â Â  â”œâ”€â”€ Assets.xcassets
 Â Â  â”œâ”€â”€ Info.plist
 Â Â  â””â”€â”€ Localizable.strings
```

<br>

<a id="5."></a>
## 5. ğŸ“± ì‹¤í–‰ í™”ë©´
| ì¼ê¸° ìƒì„± | ì¼ê¸° ìˆ˜ì •í•˜ê¸° |
| :--------------: | :-------: |
| <Img src = "https://github.com/h-suo/Diary/assets/109963294/dfc1debf-e373-406c-b745-5263a0da5f34" width="300"/> | <Img src = "https://github.com/h-suo/Diary/assets/109963294/13dca1ec-a10f-4f84-9abe-e7b17247b5d1" width="300"/>|
| **ìŠ¤ì™€ì´í”„ë¥¼ ì´ìš©í•œ ê³µìœ ** | **ìŠ¤ì™€ì´í”„ë¥¼ ì´ìš©í•œ ì‚­ì œ** |
| <Img src = "https://github.com/h-suo/Diary/assets/109963294/44df1381-9bcf-49cc-95e9-095854442be1" width="300"/> | <Img src = "https://github.com/h-suo/Diary/assets/109963294/8c1b301a-3204-489c-b0da-ce0f07cfe4ff" width="300"/> |
| **ë”ë³´ê¸° ë²„íŠ¼ì„ ì´ìš©í•œ ê³µìœ ** | **ë”ë³´ê¸° ë²„íŠ¼ì„ ì´ìš©í•œ ì‚­ì œ** |
| <Img src = "https://github.com/h-suo/Diary/assets/109963294/45e10038-e5ab-4837-902b-0e0fbc0fa180" width="300"/> | <Img src = "https://github.com/h-suo/Diary/assets/109963294/ef2cbed3-cdbb-47e1-aa09-7fb5d82679a4" width="300"/> |
| **ì‚¬ìš©ì ì–¸ì–´ ë³€ê²½** | **í…ìŠ¤íŠ¸ í¬ê¸° í‚¤ìš°ê¸°** |
| <Img src = "https://github.com/h-suo/Diary/assets/109963294/12c17465-568a-428f-9a00-8f8038530a19" width="300"/> | <Img src = "https://github.com/h-suo/Diary/assets/109963294/1ccfc5d7-8b02-4bd4-84a4-4f5872a3c931" width="300"/> |

<br>

<a id="6."></a>
## 6. ğŸ¤” ê³ ë¯¼í•œ ë¶€ë¶„

### 1ï¸âƒ£ íŒŒì¼ ë¶„ë¦¬

í”„ë¡œì íŠ¸ì˜ ê°€ë…ì„±ì„ ë†’ì´ê¸° ìœ„í•´ íŒŒì¼ ë¶„ë¦¬ì™€ ê·¸ë£¹í™”ì— ëŒ€í•´ ê³ ë¯¼ì„ í–ˆìŠµë‹ˆë‹¤.
`MVC` íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ `Model`, `View`, `Controller`ë¥¼ ë‚˜ëˆ„ëŠ” ê²ƒì„ ì‹œì‘ìœ¼ë¡œ ê·¸ ì™¸ì— ê°ì²´ì™€ íŒŒì¼ì„ ì—­í•  ë³„ë¡œ ë‚˜ëˆ„ì–´ ê·¸ë£¹í™”í–ˆìŠµë‹ˆë‹¤.

> **Application**
> : ì•±ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ëŠ” `AppDelegate`, `SceneDelegate`
> 
> **Network**
> : ë„¤íŠ¸ì›Œí‚¹ì„ í•˜ëŠ”ë° í•„ìš”í•œ ê°ì²´
> 
> **Model**
> : ë°ì´í„° ëª¨ë¸ì´ë‚˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ëª¨ë¸ ê°ì²´
> 
> **Controller**
> : ì‚¬ìš©ì ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  ë·°ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ê°ì²´
> 
> **View**
> : UIë¥¼ êµ¬í˜„í•˜ëŠ” ë·° ê°ì²´
> 
> **Error**
> : í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ì—ëŸ¬
> 
> **Util**
> : í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” `Util` ê°ì²´ì™€ `Extension` ì½”ë“œ
> 
> **Data**
> : `CoreData`ì˜ ë°ì´í„° ëª¨ë¸ íŒŒì¼
> 
> **Resource**
> : ì´ë¯¸ì§€, `Localizable` ë¬¸ìì—´, `Sample` íŒŒì¼ ë“± í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ìì›
> 

<br>

### 2ï¸âƒ£ Protocolì˜ í™œìš©

ì—­í• ì˜ ì¶”ìƒí™”ë¥¼ í•˜ê³  ê°ì²´ ê°„ ì†Œí†µì„ í•  ë•Œ ì‹¤ì œ ê°ì²´ê°€ ì•„ë‹Œ ì¶”ìƒí™”ëœ ê°ì²´ì™€ ì†Œí†µí•  ìˆ˜ ìˆê²Œ í•˜ê¸° ìœ„í•´ `Protocol`ì„ í™œìš©í–ˆìŠµë‹ˆë‹¤.
í”„ë¡œì íŠ¸ì—ì„œ `Protocol`ì„ í™œìš©í•œ ì˜ˆì‹œë¥¼ ì„¤ëª…í•´ ë³´ê² ìŠµë‹ˆë‹¤.

ì¼ê¸°ë¥¼ ì½ëŠ” ì—­í• ì„ ì¶”ìƒí™”í•œ `DiaryReadable`ì„ ë§Œë“¤ì–´ ì¼ê¸°ë¥¼ ì½ëŠ” ì—­í• ì„ í•˜ëŠ” ê°ì²´ëŠ” `DiaryReadable`ì„ ì±„íƒí•˜ê³  ì‚¬ìš©í•˜ëŠ” ê°ì²´ëŠ” ì‹¤ì œ ê°ì²´ê°€ ì•„ë‹Œ ì¶”ìƒí™”ëœ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

**DiaryReadable**

```swift
protocol DiaryReadable {
  
  func diaryEntrys() throws -> [DiaryEntry]
}
```

**Reader**

```swift
final class AssetDiaryReader: DiaryReadable {
  
  func diaryEntrys() throws -> [DiaryEntry] {
    // ...
  }
}
```

```swift
final class CoreDataDiaryManager {
  
  // ...
}

extension CoreDataDiaryManager: DiaryReadable {
  
  func diaryEntrys() throws -> [DiaryEntry] {
    // ...
  }
}
```

**DiaryListViewController**

```swift
final class DiaryListViewController: UIViewController {
  
  private let diaryReader: DiaryReadable
  // ...
  
  init(
    diaryReader: DiaryReadable,
    // ...
  ) {
    self.diaryReader = diaryReader
    // ...
  }
    
  // ...
}
```

<br>

### 3ï¸âƒ£ Network Layer

ë„¤íŠ¸ì›Œí‚¹ì„ í•˜ëŠ”ë° í•„ìš”í•œ ê°ì²´ë¥¼ `DTO`, `EndPoint`, `NetworkManager`ë¡œ ë‚˜ëˆ„ì–´ ì¶”í›„ ìƒˆë¡œìš´ `API`ë¡œ í†µì‹ ì´ í•„ìš”í•  ê²½ìš° í™•ì¥ì— ìš©ì´í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

**NetworkConfigurable**

ì•„ë˜ ì½”ë“œëŠ” `EndPoint`ë¥¼ ì¶”ìƒí™”í•œ `NetworkConfigurable` `Protocol`ì…ë‹ˆë‹¤.

`Response` íƒ€ì…ê³¼ `URL`ì„ êµ¬ì„±í•˜ëŠ” `Components`ë¥¼ ì†ì„±ìœ¼ë¡œ ê°€ì§€ê³  ìˆê³  `Extension`ìœ¼ë¡œ `urlRequest()`ì™€ `url()` ë©”ì„œë“œë¥¼ ê¸°ë³¸ êµ¬í˜„í•˜ì—¬ `EndPoint` ê°ì²´ê°€ `NetworkConfigurable`ì„ ì±„íƒí•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

```swift
protocol NetworkConfigurable {
  
  associatedtype Response
  
  var baseURL: String { get }
  var path: String { get }
  var method: HttpMethod { get }
  var queryParameters: [URLQueryItem]? { get }
}

extension NetworkConfigurable {
    
  func urlRequest() throws -> URLRequest {
    // ...
  }
  
  func url() throws -> URL {
    // ...
  }
}
```

**NetworkManageable**

`NetworkManager`ì˜ ì—­í• ì¸ ë„¤íŠ¸ì›Œí‚¹ì„ ì¶”ìƒí™”í•œ `NetworkManageable` `Protocol`ì…ë‹ˆë‹¤.

ì¶”ìƒí™”ëœ í”„ë¡œí† ì½œì¸ `NetworkConfigurable`ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ `NetworkConfigurable`ì˜ `Response` íƒ€ì…ì„ ê²°ê³¼ë¡œ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

ì‹¤ì œ ê°ì²´ê°€ ì•„ë‹Œ ì¶”ìƒí™”ì— ì˜ì¡´í•˜ì—¬ ìƒˆë¡œìš´ `EndPoint`ê°€ `NetworkConfigurable`ì„ ì±„íƒí•˜ê³  ìˆë‹¤ë©´ ë„¤íŠ¸ì›Œí‚¹ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— í™•ì¥ì— ìš©ì´í•©ë‹ˆë‹¤.

```swift
protocol NetworkManageable {
  
  var urlSession: URLSessionProtocol { get }
  
  func request<DTO: Decodable, EndPoint: NetworkConfigurable>(
    with endpoint: EndPoint,
    completion: @escaping (Result<DTO, NetworkError>) -> Void
  ) where EndPoint.Response == DTO
  
  func request(
    with url: URL,
    completion: @escaping (Result<Data, NetworkError>) -> Void
  )
}
```

<br>

### 4ï¸âƒ£ Localizing

ì–¸ì–´ì™€ ë‚ ì§œ í‘œì‹œë¥¼ ì‚¬ìš©ì ì„¤ì •ì— ë§ê²Œ í˜„ì§€í™”í•˜ì—¬ ë³´ì´ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

**UserDateFormatter**

`DateFormatter`ì˜ `locale`ê³¼ `timeZone`ì„ `current`ë¡œ ì„¤ì •í•˜ì—¬ ì‚¬ìš©ìì˜ ë¡œì¼€ì¼ ë° ì‹œê°„ëŒ€ ì„¤ì •ì„ ê¸°ë°˜ìœ¼ë¡œ ë‚ ì§œë¥¼ í‘œì‹œí•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```swift
final class UserDateFormatter: LocaleDateFormatterProtocol {
  
  // ...
  var dateFormatter: DateFormatter = {
    let dateFormatter = DateFormatter()
    dateFormatter.locale = Locale.current
    dateFormatter.timeZone = TimeZone.current
    dateFormatter.dateStyle = .long
    
    return dateFormatter
  }()
}
```

**Localizable**

ì‚¬ìš©ìê°€ ë³´ëŠ” í…ìŠ¤íŠ¸ë¥¼ `Localizable.strings` íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ë‹¤êµ­ì–´ ì²˜ë¦¬í•˜ì—¬, ì–¸ì–´ë¥¼ ë°”ê¿¨ì„ ë•Œ í•´ë‹¹ ì–¸ì–´ì— ë§ê²Œ í…ìŠ¤íŠ¸ê°€ ë°”ë€Œë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```strings
/* English */

"Diary" = "Diary";
// ...
```

```strings
/* Korean */

"Diary" = "ì¼ê¸°ì¥";
// ...
```

<br>

### 5ï¸âƒ£ Unit Test

ê°ì²´ê°€ ì˜ë„ì— ë§ê²Œ ì˜ ë™ì‘í•˜ëŠ”ì§€ ì•Œì•„ë³´ê¸° ìœ„í•´ `Unit Test`ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.
í…ŒìŠ¤íŠ¸ê°€ ì–´ë–¤ ìƒí™©ì—ì„œë„ ì˜ ë™ì‘í•˜ë„ë¡ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

**CoreData Test**

ë°ì´í„°ë¥¼ ë¡œì»¬ì— ì €ì¥í•˜ì§€ ì•Šê³  í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ `PersistentContainer`ì˜ `store type`ì„ `InMemory`ë¡œ ì„¤ì •í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì´í›„ ë°ì´í„°ê°€ ì§€ì›Œì§€ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

```swift
final class CoreDataDiaryManagerTests: XCTestCase {
  
  // MARK: - Setup Test
  lazy var persistentContainer: NSPersistentContainer = {
    let container = NSPersistentContainer(name: "DiaryData")
    let storeDescription = NSPersistentStoreDescription()
    storeDescription.type = NSInMemoryStoreType
    container.persistentStoreDescriptions = [storeDescription]
    // ...
  }()
  
  var sut: CoreDataDiaryManager!
  
  override func setUpWithError() throws {
    sut = CoreDataDiaryManager(persistentContainer: persistentContainer)
  }
  
  override func tearDownWithError() throws {
    sut = nil
  }
    
  // ...
}
```

**Test Double**

ë„¤íŠ¸ì›Œí¬ê°€ ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šì€ ìƒí™©ì—ì„œë„ `NetworkManager`ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ `Test Double` ê°ì²´ë¥¼ ë§Œë“¤ì–´ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.

`Dummy Response`ì™€ `MockURLSession`ì„ ë§Œë“¤ì–´ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì€ ì‘ë‹µì„ ë„˜ê²¨ì£¼ë„ë¡ ì„¤ê³„í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

```swift
protocol Response {
  var data: Data? { get }
  var response: URLResponse? { get }
  var error: Error? { get }
}
```

```swift
final class MockURLSession: URLSessionProtocol {
  var response: Response?
  
  init(response: Response?) {
    self.response = response
  }
  
  func dataTask(
    with request: URLRequest,
    completionHandler: @escaping @Sendable (Data?, URLResponse?, Error?) -> Void
  ) -> URLSessionDataTask {
    return MockURLSessionDataTask {
      let response = self.response
      completionHandler(response?.data, response?.response, response?.error)
    }
  }
    
  // ...
}
```


<br>

<a id="7."></a>
## 7. ğŸ”— ì°¸ê³  ë§í¬
- [ğŸApple: locale](https://developer.apple.com/documentation/foundation/dateformatter/1411973-locale)
- [ğŸApple: setLocalizedDateFormatFromTemplate](https://developer.apple.com/documentation/foundation/dateformatter/1417087-setlocalizeddateformatfromtempla)
- [ğŸApple: timezone](https://developer.apple.com/documentation/foundation/dateformatter/1411406-timezone)
- [ğŸApple: keyboardWillShowNotification](https://developer.apple.com/documentation/uikit/uiresponder/1621576-keyboardwillshownotification)
- [ğŸApple: keyboardFrameEndUserInfoKey](https://developer.apple.com/documentation/uikit/uiresponder/1621578-keyboardframeenduserinfokey)
- [ğŸApple: UIActivityViewController](https://developer.apple.com/documentation/uikit/uiactivityviewcontroller)
- [ğŸApple: NSManagedObject](https://developer.apple.com/documentation/coredata/nsmanagedobject)
- [ğŸApple: NSManagedObjectContext](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext)
